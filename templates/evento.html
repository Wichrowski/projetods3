{% extends "layout.html" %}

{% block content %}

<section class="hero is-large is-bold">
    <div class="hero-body">
        <div class="container">
            <article class="media">
                <figure class="media-left">
                    <p class="image is-128x128">
                    <img src="{{evento.url_imagem}}">
                    </p>
                </figure>
                <div class="media-content">
                    <div class="content">
                        <h1 class="title is-3">
                            {{evento.nome}}
                        </h1>
                        <h2 class="subtitle is-4">
                            {{evento.parceiro.nome}}
                        </h2>
                        <p class="heading">
                        {{evento.endereco.cidade.nome}}
                        {% if evento.endereco.cidade.estado.nome != evento.endereco.cidade.nome: %}
                        , {{evento.endereco.cidade.estado.nome}}
                        {%endif%}
                        </p>
                        <p class="heading is-5 formatted-date">{{evento.data}}</p>
                        <div class="content">
                            {{evento.descricao}}
                        </div>
                    </div>
                    <nav class="level is-mobile">
                        <div class="level-left">
                            <a class="level-item">
                                <span class="tag is-primary">{{evento.tipo}}</span>
                            </a>
                            <a class="level-item">
                                <span class="tag is-success">{{evento.area}}</span>
                            </a>
                        </div>
                    </nav>
                </div>
            </article>

        </div>
    </div>
</section>

{% endblock %}

{% block custom_scripts %}
<script>
var datas = document.querySelectorAll('.formatted-date');

    datas.forEach(function(campoData) {
    var dataLegivel = moment(campoData.textContent)
        .locale('pt-BR')
        .format('dddd, DD [de] MMMM [de] Y')

    campoData.textContent = dataLegivel;
})
</script>
{% endblock %}
